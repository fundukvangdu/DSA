// Title= Implementation of the circular Queue using linked list (operation)
// Using C++


#include<iostream>
#include<stdlib.h>
using namespace std;

struct Node
{
    int data;
    struct Node *next;
};

Node *front = NULL;
Node *rear = NULL;

void enqueue(int val)
{
    if(front == NULL && rear == NULL)
    {
        struct Node* newNode = (struct Node*) malloc(sizeof(struct Node));
        newNode->data = val;
        newNode->next = NULL;
        front = newNode;
        rear = newNode;

        cout << "Front : " << front->data << endl;
        cout << "Rear : " << rear->data << endl;
    }
    else
    {
        struct Node* newNode = (struct Node*) malloc(sizeof(struct Node));
        newNode->data = val;
        rear->next = newNode;
        newNode->next = front;
        rear = newNode;

        cout << "Front : " << front->data << endl;
        cout << "Rear : " << rear->data << endl;
    }
}

void dequeue()
{
    if(front == NULL && rear == NULL)
    {
        cout << "Queue is empty" << endl;
    }
    else
    {
        Node *n;
        n = front;
        front = front->next;
        delete(n);
        rear->next = front;
    }
}

void peek()
{
    if(front == NULL && rear == NULL)
    {
        cout << "Queue is empty" << endl;
    }
    else
    {
        cout << "Element present at front is " << front->data << endl;
    }
}

void display()
{
    if(front == NULL && rear == NULL)
    {
        cout << "Queue is empty" << endl;
    }
    else
    {
        Node *ptr;
        ptr = front;

        cout << "Front : " << front->data << endl;
        cout << "Rear : " << rear->data << endl;
        cout << "Queue: ";

        do
        {
            cout << ptr->data << " ";
            ptr = ptr->next;
        }
        while(ptr != rear->next);

        cout << endl << endl;
    }
}

int main(void)
{
    int ch, val;

    cout << "1) Enqueue\n";
    cout << "2) Dequeue\n";
    cout << "3) Display\n";
    cout << "4) Peek\n";
    cout << "5) Exit\n";

    do
    {
        cout << "Enter choice : ";
        cin >> ch;

        switch(ch)
        {
            case 1:
                cout << "Element to enqueue: ";
                cin >> val;
                enqueue(val);
                break;

            case 2:
                dequeue();
                break;

            case 3:
                display();
                break;

            case 4:
                peek();
                break;

            case 5:
                cout << "Exit\n";
                break;

            default:
                cout << "Incorrect choice!\n";
        }
    }
    while(ch != 5);

    return 0;
}
